# general
alias search='yay -Ss'
alias ka='killall'
alias mute='pamixer -t'
alias tor='sudo su - tor tor'
alias refresh='exec zsh'
alias cat='bat'
alias less='bat'
alias colors='for i in {0..255}; do print -Pn "%K{$i}  %k%F{$i}${(l:3::0:)i}%f " ${${(M)$((i%6)):#3}:+"\n"}; done'

# updating stuff
alias update-alias='source ~/.alias'
alias update-packages='yay -Qqe > ~/.dotfiles/packages'
alias upsys='yay -Syu'

# files
alias cp='rsync -Pasuv'
alias rm='rm -rf'

# background jobs (background function defined below)
alias vlc='bground vlc'
alias qb='bground qutebrowser'

# sudo musts
alias sysct='sudo systemctl'

# drives
alias mu='sudo mount'
alias um='sudo umount'
alias dd='sudo dd'
alias lsb='lsblk'

# fonts
alias list-fonts='kitty + list-fonts --psnames'
alias add-fonts='mv *.[ot(wo)]tf ~/.local/share/fonts'

# ls
alias ls='lsd -F'
alias lh='ls -ld .?* '
alias tr='lsd --tree -I node_modules -I .git'
alias tra='tr -Ah'

# network
alias network='nmcli device wifi'
alias ne='network'
alias ner='network rescan && network'
alias network-restart='sudo systemctl restart NetworkManager'
alias nec='network connect'
alias my-ip="ifconfig | grep -oE \"([0-9]{1,3}\.){3}[0-9]{1,3}\" | sed -n '3,3p;4q'"

# git
alias commit-count='git rev-list --count HEAD'
alias gs='git status -s'
alias grh='git reset HEAD~'
alias create-repo='gh repo create'
alias gcm='git commit -m'

# npm
alias ni='npm install'
alias nig='sudo npm install -g'
alias ns='npm start'
alias nr='npm run'
alias nb='npm run build'

# yarn
alias y='yarn'
alias ya='yarn add'
alias yag='yarn global add'
alias yi='yarn install --ignore-optional'
alias ys='yarn start'
alias yu='yarn upgrade'
alias yh='yarn help'
alias yr='yarn remove'
alias rmny='rm -rf node_modules/ yarn.lock'

# pyenv
alias pye='pyenv'
alias pyei='pyenv install'
alias pyel='pyenv install --list | grep'
alias pyev='pyenv versions'
alias pyeg='pyenv global'

# python
alias pip='pip --use-featur=2020-resolver'
alias actv='source .venv/bin/activate'
alias deact='deactivate'
alias venv='python -m venv'



# things that requires arguments or one liners can't do


# find any (almost) github user's email
find-email () {
    curl -fsSL https://api.github.com/users/$1/events/public | grep email
}

volume () {
    if [[ -n $1  ]]; then
        pamixer --set-volume $1
    else
        pamixer --get-volume
    fi
}

vim () {
    if [[ ! -e "$1" ]]; then
        # check_perm declares the file to check write permission 
        check_perm=$(dirname "$1") 
    else
        check_perm="$1" 
    fi

    # if user has write permission donot use sudo
    if [[ -w "$check_perm" ]]; then
        nvim $1
    else
        sudo nvim $1
    fi
}

# detach process from terminal
bground () {
    $* </dev/null &> /dev/null &
    disown
}

# clone via http
clone () {
    cd ~/.tests/repos
    git clone $*
}

# clone via ssh 
clone-ssh() {
    cd ~/.tests/repos
    git clone github:$*
}

# take over a file that I didn't had access
iown () {
    sudo chown -R $USER $1
    chmod +rw $1
}


# get quick docs using the given command
howto () {
    wget -q --spider http://google.com

    if [ $? -eq 0 ]; then
        curl -fsSL cheat.sh/$1 | less
    else
        echo "You don't have an internet connection"
    fi
}

# find alias
fa () {
    alias | grep "$*"
    if [[ ! $? -eq 0 ]]; then
        echo ðŸ¥º Not Found
    fi
}

add-dotfile () {
    mv $1 $2
    ln -sf $2 $1

}

dkcud () {
    docker-compose up -d
    docker attach my-components_react-app_1

}

txback () {
    if [[ $(xbacklight) == "100.000000" ]]; then
        xbacklight -set 1
    else
        xbacklight -set 100
    fi
}

